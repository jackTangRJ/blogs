<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> RegExp正则表达式 · 小唐的前端博客</title><meta name="description" content="RegExp正则表达式 - JackTang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/ico.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://jacktangrj.github.io/atom.xml" title="小唐的前端博客"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/ico.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">首 页</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">所有文章</a></li><li class="nav-list-item"><a href="http://blog.tanwei888.com" target="_blank" class="nav-list-link">前端每日一课</a></li><li class="nav-list-item"><a href="https://github.com/jackTangRJ/" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">RegExp正则表达式</h1><div class="post-info">Jun 5, 2018</div><div class="post-content"><p><img src="http://www.wailian.work/images/2018/06/07/timg.jpg" alt="image"></p>
<blockquote>
<p>正则表达式主要是针对字符串进行操作，可以简化对字符串的复杂操作，其主要功能有匹配、切割、替换、获取</p>
</blockquote>
<a id="more"></a>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><blockquote>
<p>所谓正则表达式，就是一种描述字符串结构模式的形式化表达方法。</p>
</blockquote>
<h3 id="创建方式"><a href="#创建方式" class="headerlink" title="创建方式"></a>创建方式</h3><p>在JavaScript中，我们可以通过<b><code>RegExp()构造函数</code></b>或者<b><code>RegExp()字面量</code></b>两种方式去创建正则表达式。</p>
<div class="code"><b><pre><br>    <span class="line">var <span class="keyword">regex</span> = new <span class="keyword">RegExp</span>(‘xyz’, ‘i’)</span><br>    // 等价于<br>    <span class="line">var <span class="keyword">regex</span> = /xyz/i </span><br></pre></b><br></div>

<h3 id="匹配规则"><a href="#匹配规则" class="headerlink" title="匹配规则"></a>匹配规则</h3><h4 id="1-预定义模式"><a href="#1-预定义模式" class="headerlink" title="1. 预定义模式"></a>1. 预定义模式</h4><table>
<thead>
<tr>
<th>字符</th>
<th>匹配</th>
</tr>
</thead>
<tbody>
<tr>
<td>\d</td>
<td>0-9之间的任意数字</td>
</tr>
<tr>
<td>\D</td>
<td>匹配所有除0-9之间的任意数</td>
</tr>
<tr>
<td>\w</td>
<td>匹配任意字母，数字，下划线</td>
</tr>
<tr>
<td>\W</td>
<td>匹配所有除了数字、字母、下划线的所有字符</td>
</tr>
<tr>
<td>\s</td>
<td>匹配空格（制表符，回车键、换行符）</td>
</tr>
<tr>
<td>\b</td>
<td>匹配词的边界 不连续的英文字母，词首必须独立</td>
</tr>
<tr>
<td>\B</td>
<td>匹配非词的边界（咋内部）</td>
</tr>
</tbody>
</table>
<div class="tip"><br>    通常情况下，正则表达式碰到换行符(\n)就会停止匹配<br></div>

<h4 id="2-量词符"><a href="#2-量词符" class="headerlink" title="2. 量词符"></a>2. 量词符</h4><p>量词符用来设定某个模式出现的次数</p>
<table>
<thead>
<tr>
<th>字符</th>
<th>匹配</th>
</tr>
</thead>
<tbody>
<tr>
<td>?</td>
<td>表示匹配0次或者1次，相当于 {0,1}</td>
</tr>
<tr>
<td>*</td>
<td>表示某个模式出现0次或者多次</td>
</tr>
<tr>
<td>+</td>
<td>表示某个模式出现1次或者多次 等同于 {1,}</td>
</tr>
</tbody>
</table>
<h4 id="3-转义符"><a href="#3-转义符" class="headerlink" title="3. 转义符 \"></a>3. 转义符 \</h4><blockquote>
<p>正则表达式中，需要反斜杠转义的，一共有12个字符：^、.、[、$、(、)、|、*、+、?、{和\。需要特别注意的是，如果使用RegExp方法生成正则对象，转义需要使用两个斜杠，因为字符串内部会先转义一次。</p>
</blockquote>
<h4 id="4-特殊字符"><a href="#4-特殊字符" class="headerlink" title="4. 特殊字符"></a>4. 特殊字符</h4><ol>
<li>\n 换行键</li>
<li>\r 回车键</li>
<li>\t 制表符</li>
</ol>
<h4 id="5-字符类"><a href="#5-字符类" class="headerlink" title="5. 字符类"></a>5. 字符类</h4><p>1) 脱字符 ^ 只有在第一个位置才有效果</p>
<div class="code"><b><pre><br>    <span class="line"><span class="keyword">方括号中第一个字符是^,则表示除了这字符类，其他都匹配，如果除了^没有别的，则表示匹配所有</span></span><br><br></pre><b></b></b></div>


<p>2) 连字符</p>
<div class="code"><b><pre><br>    <span class="line"><span class="keyword"> 用-来表示字符的连续范围,当连字符不出现在方括号中时，则不表示连续范围</span></span><br><br></pre><b></b></b></div>

<h4 id="6-重复字符类"><a href="#6-重复字符类" class="headerlink" title="6. 重复字符类"></a>6. 重复字符类</h4><table>
<thead>
<tr>
<th>字符</th>
<th>匹配</th>
</tr>
</thead>
<tbody>
<tr>
<td>{n,m}</td>
<td>匹配前一项至少n次，但不能超过m次</td>
</tr>
<tr>
<td>{n,}</td>
<td>匹配前一项n次或多次</td>
</tr>
<tr>
<td>{n}</td>
<td>匹配前一项n次</td>
</tr>
<tr>
<td>?</td>
<td>匹配前一项0次或1次，也就是说前一项是可选的，等价于{0,1}</td>
</tr>
<tr>
<td>+</td>
<td>匹配前一项1次或多次，等价于{1,}</td>
</tr>
<tr>
<td>*</td>
<td>匹配前一项0次或多次，等价于{0,}</td>
</tr>
</tbody>
</table>
<div class="tip"><br>    javascript默认是贪婪匹配，也就是说匹配重复字符是尽可能多地匹配，而且允许后续的正则表达式继续匹配。而进行非贪婪匹配，只需要在待匹配的字符后面跟随一个问号即可：“??”、“+?”、“*?”、“{1,5}?”。比如：/a+/可以匹配一个或多个连续的字母a。当使用“aaa”作为匹配字符串时，/a+/会匹配它的三个字母。但是/a+?/会尽可能少的匹配，只能匹配第一个哦~<br></div>

<h4 id="7-元字符"><a href="#7-元字符" class="headerlink" title="7. 元字符"></a>7. 元字符</h4><p>1.点字符 .</p>
<pre><code>匹配除了回车\r 换行\n 行分隔符 段分割付之外的所有字符
</code></pre><p>2.位置分隔符 ^ $</p>
<pre><code>^表示字符串开始的位置
 $表示字符串结束的位置
</code></pre><p>3.选择符 |</p>
<pre><code>竖线选择符表示或的关系
</code></pre><h4 id="8-修饰符"><a href="#8-修饰符" class="headerlink" title="8. 修饰符"></a>8. 修饰符</h4><table>
<thead>
<tr>
<th>字符</th>
<th>匹配</th>
</tr>
</thead>
<tbody>
<tr>
<td>i</td>
<td>执行不区分大小写的匹配</td>
</tr>
<tr>
<td>g</td>
<td>执行一个全局匹配，简而言之，即找到所有的匹配，而不是在找到第一个之后就停止</td>
</tr>
<tr>
<td>m</td>
<td>多行匹配模式，^匹配一行的开头和字符串的开头，$匹配行的结束和字符串的结束</td>
</tr>
</tbody>
</table>
<h4 id="9-组匹配"><a href="#9-组匹配" class="headerlink" title="9.组匹配"></a>9.组匹配</h4><p>正则表达式的()表示分组匹配，括号中的模式用来匹配分组的内容</p>
<p>非捕获组<br>    <code>(?:x) </code> 表示不返回改组匹配的内容</p>
<p>先行断言<br>   <code>X(?=Y)</code>  x只有在y前面才会被匹配，y不计入匹配结果</p>
<p>先行否断言<br>    <code>x(?!=y)</code> x只有不在y前面才匹配</p>
<h3 id="用于模式匹配的String方法"><a href="#用于模式匹配的String方法" class="headerlink" title="用于模式匹配的String方法"></a>用于模式匹配的String方法</h3><p><code>String.search()</code> 参数：一个正则表达式。返回：第一个与参数匹配的子串的起始位置，如果找不到，返回-1。不支持全局搜索，如果参数是字符串，会先通过RegExp构造函数转换成正则表达式。</p>
<p><code>String.replace()</code>    检索和替换。第一个参数：正则表达式，第二个参数：要进行替换的字符串，也可以是函数。设置了g修饰符，则替换所有匹配的子串，否则只替换第一个子串。通过在替换字符串中使用“$n”，可以使用子表达式相匹配的文本来替换字符。</p>
<p><code>String.match()</code> 参数：一个正则表达式。返回：一个由匹配结果组成的数组。设置g则返回所有匹配结果，否则数组的第一个元素是匹配的字符串，剩下的是圆括号中的子表达式，即a[n]中存放的是$n的内容。</p>
<p><code>String.split()</code> 参数：正则表达式或字符串。返回：子串组成的数组。</p>
<h3 id="用于模式匹配的RegExp方法"><a href="#用于模式匹配的RegExp方法" class="headerlink" title="用于模式匹配的RegExp方法"></a>用于模式匹配的RegExp方法</h3><p><code>exec()</code>  参数：字符串。在一个字符串中执行匹配检索，与String.macth()非全局检索类似，返回一个数组或null。</p>
<p><code>test()</code> 参数：字符串。返回true or false</p>
<h2 id="案例实战"><a href="#案例实战" class="headerlink" title="案例实战"></a>案例实战</h2><p>1.替换掉字符串首尾空格</p>
<div class="code"><b><pre><br>    <span class="line">let<span class="keyword"> str</span> = ‘    aab_abbbb_bgabb45+ef     ‘; </span><br>    <span class="line">let<span class="keyword"> trim </span> =  /^\s+|\s+$/g</span><br>    <span class="line"><span class="keyword">console</span>.log(<span class="keyword">str</span>.replace(<span class="keyword">trim</span>, ‘’));</span><br><br></pre><b></b></b></div>

<p>2.验证邮箱</p>
<div class="code"><b><pre><br><br>    <span class="line">console.log(/^\w+@[0-9a-zA-Z]+.\w+$/.test(“<a href="mailto:45gdg4ge@qq.com" target="_blank" rel="noopener">45gdg4ge@qq.com</a>“))</span><br><br></pre><b></b></b></div>

<p>3.匹配电话号码</p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/^1[3|4|5|8][0-9]\d&#123;4,8&#125;$/</span><br></pre></td></tr></table></figure>
</code></pre><h4 id="常用正则表达式"><a href="#常用正则表达式" class="headerlink" title="常用正则表达式"></a><a href="https://github.com/jaywcjlove/handbook/blob/master/Javascript/%E4%B8%80%E4%BA%9B%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E9%9A%8F%E8%AE%B0.md#%E7%94%A8%E6%88%B7%E5%90%8D%E6%AD%A3%E5%88%99" target="_blank" rel="noopener">常用正则表达式</a></h4><blockquote>
<p>还不懂？没关系，拿着正则表达式去上面套公式</p>
</blockquote>
<h4 id="阮一峰正则"><a href="#阮一峰正则" class="headerlink" title="阮一峰正则"></a><a href="http://javascript.ruanyifeng.com/stdlib/regexp.html" target="_blank" rel="noopener">阮一峰正则</a></h4></div></article></div></main><footer><div class="paginator"><a href="/2018/06/JSON/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2018 <a href="https://jacktangrj.github.io">JackTang</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>